---
layout: post
title: Chapter 4-2. 비잔틴 결함 허용 (BFT)
categories: web3
tags: [Blockchain]
---
합의 모델의 초기 구상으로 비장틴 장군에서 유래되었다.

## 1. 개요

여러 비잔틴 장군들이 적의 성을 포위하고 있는데, 이들은 함게 공격할지 후퇴할지 동시에 결정해야 한다.
여기서 문제는 장군들은 메신저를 통해서만 소통할 수 있다. 그리고 장군들 중에서 배신자가 있을 수 있다.
배신자는 일부에게는 공격을 다른 일부에게는 후퇴를 요구하는 거짓 정보를 보내 작전을 망치려고 할 때
서로 완전히 신뢰할 수 없는 상황에서 충직한 장군들끼리 동일한 결정을 내려야한다.

BFT는 이 문제를 해결하는 시스템의 특성을 말한다.
분산된 네트워크(장군들)의 일부 노드(배신자)가 고장 나거나 악의적으로 행동하더라도, 시스템은 오류 없이 합의를 이루고 정상적으로 작동하는 능력을 의미한다.

## 2. 특성

1. 결함 허용 (Fault tolerance)
    네트워크에 일부 악의적이거나 고장난 노드가 있어도 시스템 기능에 문제가 없어다.
    일반적으로 `n`개의 노드가 있는 시스템에서 최대 f개의 비잔틴 결함(악의적노드)을 허용하려면, 최소 `n = 3f + 1`개의 노드가 필요하다고 알려져있다. 예를 들어, 1명의 배신자를 감내하려면 최소 4명의 장군이 필요하다.
2. 합의
    결국 시스템은 동일한 값에 합의한다. 블록체인에서는 어떤 거래가 진짜이고 어떤 블록을 체인에 추가할지 모든 정직한 노드가 동일하게 결정하는 것을 의미한다.
3. 안전성
    시스템은 절대로 잘못된 결과를 만들지 않는다. 정직한 노드들이 합의한 결과는 항상 유효하고 올바르다는 것을 보장해야한다. 이중 지불을 방지해야 한다.
4. 활성
    시스템은 멈추지 않고 결정 이후 계속 진행되어야 한다. 정직한 노드들이 메시지를 주고 받으면 시스템은 교착 상태에 빠지지않고 다음 상태로 나아간다.

BFT는 참여자들이 서로 신뢰할 수 없는 환경인 프라이빗 블록체인이나, 지분증명(PoS) 기반의 퍼블릭 블록체인에서 합의를 이루는 핵심 기술로 사용된다.